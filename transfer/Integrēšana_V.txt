#include <math.h>
#include <stdio.h>

float a, b, prec, value1 = 0., value2, h ;
int k, n=2;



void main() {
    printf("Funkcijas cosh(sqrt(x)) definîcijas apgabals X = (0, +inf), tâdçï\na un b vçrtîbas nedrîkst bût mazâkas par 0 \n__________________________________________________________________________________\n\n\n");
    
    
    
    
    printf("Lûdzu ievadi a vçrtîbu: ");
    scanf("%f", &a);
    printf("Lûdzu ievadi b vçrtîbu: ");
    scanf("%f", &b);
    printf("Lûdzu ievadi precizitâtes vçrtîbu: ");
    scanf("%f", &prec);
    
   value2 = (b-a)*cosh(sqrt((a+b)/n));
   
   while(fabs(value2-value1)>prec)
   {
    n*=2;
    h=(b-a)/n;
    value1=value2;
    value2=0;
    
    for (k = 0; k < n; k++)
    {
        value2 += h * cosh(sqrt(a+(k+0.5)*h) );
    }
   } 
    printf("\nIntegrâlis izmantojot taisnstûru metodi = %f", value2);
    
   n=2;
   value1 = 0.;
   h = 0;
   
   value2 = cosh(sqrt(a))*(b-a)+((cosh(sqrt(b))-cosh(sqrt(a)))*(b-a))/2;
   
   while(fabs(value2-value1)>prec)
   {
    
    
    n*=2;
    h=(b-a)/n;
    value1=value2;
    value2=0;
    
    for (k = 0; k < n; k++)
    {
       value2 += h*cosh(sqrt(a+k*h))+((h*cosh(sqrt(a+(k+1)*h)))-h*cosh(sqrt(a+h*k)))/2;
    }
     
   } 
    printf("\nIntegrâlis izmantojot trapeèu metodi = %f", value2);
    
    
    n=2;
   value1 = 0.;
   h = 0;
   
   value2 = (b-a)/3 * (cosh(sqrt(a))+4*cosh(sqrt((a+b)/2))+cosh(sqrt(b)));
   printf("\n%f\n",value2);
   while(fabs(value2-value1)>prec)
   {
    
    
    n*=2;
    h=(b-a)/n;
    value1=value2;
    value2=0;
    
    for (k = 0; k < n; k++)
    {
    
        if(k%2==0)
       {
           value2 += 2 * cosh(sqrt(a+k*h));
       }
       else 
       {
           value2 += 4 * cosh(sqrt(a+k*h));
       }
    }
     value2 = value2 * h/3;
   } 
    printf("\nIntegrâlis izmantojot simpsona metodi = %f", value2);
    return 0;
}